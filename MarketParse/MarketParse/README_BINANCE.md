# Binance Futures WebSocket Integration

## ????????

?????? ????????? ?????????? ? Binance Futures API ??? ????????? ?????? ? ?????????????? ???? SOL/USDT ? ???????? ??????? ????? WebSocket.

## ????????????????

### ???????? ???????????:

1. **????????? ???????????? ??????** - ???????? ?????? (klines) ?? ????????? 120 ????? ??? ???? SOL/USDT ?? ????? Futures
2. **WebSocket ???????????** - ????????? ?????????? ? ???????? ??????? ????? WebSocket
3. **???????????? ??????** - ??????????? ?????? ? ??????? ??????? ? ??????????? ?:
   - ??????? ???????? ? ???????? ?????
   - ???? ????????, ?????????, ???????? ? ????????
   - ?????? ??????
   - ?????????? ??????

## ????????????? ??????

- **Binance.Net** (v11.11.0) - ??????????? ?????????? ??? ?????? ? Binance API
- **CryptoExchange.Net** (v9.13.0) - ??????? ?????????? ??? ?????? ? ?????????????

## ??? ????????????

1. ????????? ??????????:
   ```bash
   dotnet run
   ```

2. ???????? ??????? ? ????????? ?? ??????, ?????????? ? ??????? (?????? `https://localhost:5001`)

3. ? ????????????? ???? ???????? **"Binance Futures"**

4. ?? ???????? ?? ??????? ??? ??????:
   - **"????????? ?????? ?? ????????? 120 ?????"** - ????????? ???????????? ??????
   - **"?????????? WebSocket"** - ????????????? WebSocket ?????????? ??? ????????? ?????????? ? ???????? ???????

5. ????? ???????? ??????, ?? ???????:
   - ??????? ?? ????? ??????? ?? ????????? 120 ?????
   - ???????? ? ????????? ??????????? (??? ???????? WebSocket)

## ???????????

### ????????? ???????:

```
MarketParse/
??? Services/
?   ??? BinanceFuturesService.cs     # ?????? ??? ?????? ? Binance Futures API
??? Components/
?   ??? Pages/
?       ??? BinanceFutures.razor     # ???????? ??? ??????????? ??????
??? Program.cs                        # ???????????? ??????????
```

### BinanceFuturesService

?????? ????????????? ????????? ??????:

- `GetHistoricalKlinesAsync()` - ????????? ???????????? ?????? ?? ????????? ??????
- `SubscribeToKlineUpdatesAsync()` - ???????? ?? WebSocket ??????????
- `UnsubscribeAsync()` - ??????? ?? WebSocket ??????????

### ?????? ?????? KlineData

```csharp
public class KlineData
{
    public DateTime OpenTime { get; set; }
    public DateTime CloseTime { get; set; }
    public string Symbol { get; set; }
    public decimal Open { get; set; }
    public decimal High { get; set; }
    public decimal Low { get; set; }
    public decimal Close { get; set; }
    public decimal Volume { get; set; }
    public decimal QuoteVolume { get; set; }
    public int TradeCount { get; set; }
    public bool IsClosed { get; set; }
}
```

## ??????????? ??????

- **??????? ?????????**: .NET 9.0
- **??? ???????**: Blazor Server
- **?????**: Binance USD-M Futures (?? Spot)
- **???????? ????**: SOL/USDT
- **????????**: 1 ??????
- **??????**: 120 ?????

## ??????????? ??????????

1. ???????????? **USD-M Futures API** ????? `_restClient.UsdFuturesApi` ? `_socketClient.UsdFuturesApi`
2. WebSocket ?????????? ???????????? ? ???????? ???????
3. ?????????????? ?????????? ??????? ??? ????????? ????? ??????
4. ?????????? ????????? ???????? (??????????) ??????
5. ??????????? ?????????? ???????????? ?????? (???????? 120)

## ??????????

- ??? ?????? ?? ????????? API ???? (???????????? ????????? ??????)
- WebSocket ?????????? ????????????? ??????????? ??? ????? ?? ????????
- ??? ?????? ?????????? ? Binance Futures, ? ?? ?? Spot ?????
